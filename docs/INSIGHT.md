# 에이전트의 행동을 어디까지 제어해야하나

현재 사파리 에이전트 플로우 구조는 `명령 -> 이미지 확인 -> 행동`의 순차적 흐름을 강제하고 있습니다. 이에 대해 "이미지 확인 과정을 강제하지 않고, 이조차 에이전트의 자율적 판단에 맡길 수는 없을까?"라는 고민이 있었습니다.

## 1. 절차적 제어 vs 자율적 추론: 지각(Perception)의 습관화

### 초기 설계와 시행착오
처음에는 에이전트에게 `CaptureView`, `Move` 등 모든 도구를 자유롭게 사용할 권한을 주었습니다. 개발자의 기대는 "에이전트가 필요할 때 스스로 사진을 찍어 주변을 확인하고 움직이는" 지능적인 행동이었습니다. 하지만 실제 관찰 결과, LLM은 **'언제 정보를 갱신해야 하는지'**에 대한 판단에 어려움을 겪었습니다. 정보가 부족한 상태에서도 무작정 이동을 시도하거나, 이미 알고 있는 정보임에도 불필요하게 캡처를 반복하는 등 지각과 행동의 연계가 매끄럽지 않았습니다.

### '지각의 습관' 강제 (Enforced Perception)
이러한 한계를 극복하기 위해 코드 수준에서 플로우를 강제하게 되었습니다. 이는 에이전트에게 일종의 **'운전 연수'**를 시키는 것과 같습니다. 초보 운전자에게 "차선을 바꾸기 전엔 무조건 백미러를 보라"고 규칙을 정해주는 것처럼, 에이전트가 실패(충돌)하지 않도록 지각의 습관을 강제로 주입한 것입니다.

*   **성과**: 시스템의 안정성과 예측 가능성이 획기적으로 높아졌습니다.
*   **아쉬움**: 에이전트가 스스로 상황을 판단하여 "지금은 안전하니 캡처 없이 세 칸 더 가겠다"와 같은 고차원적인 전략을 구사할 기회를 제한하게 되었습니다.

## 2. '진짜 에이전트'로 가는 길: 자율성의 회복

에이전트가 진정으로 자율적으로 행동하게 하려면 단순히 도구를 주는 것을 넘어, **'정보의 유효성'**을 추론할 수 있는 능력이 필요합니다.

*   **불확실성 인지**: "내가 마지막으로 확인한 환경 데이터가 현재 위치에서도 유효한가?"라는 질문을 에이전트 스스로 던질 수 있어야 합니다.
*   **피드백 루프의 정교화**: 강제된 플로우를 제거하는 대신, 지각 없이 행동하다 실패했을 때(예: 나무 충돌) 제공되는 피드백을 극대화하여 "지각의 필요성"을 스스로 깨닫게 만드는 학습 과정이 필요합니다.

## 3. 결론: 제어는 교육인가, 구속인가

결국 에이전트의 제어 수준은 **'안정성'과 '지능' 사이의 트레이드오프**입니다. 현재의 강제된 플로우는 에이전트의 지능적 한계를 보완하기 위한 **'안전 장치'**이자 **'성공을 위한 가이드라인'**입니다. 진정한 의미의 AI 에이전트는 이러한 강제된 규칙(Hard-coded Rules)을 서서히 걷어내고도, 스스로의 판단(Reasoning)만으로 지각과 행동의 최적점을 찾아가는 존재일 것입니다. 이 프로젝트는 그 '강제'와 '자율' 사이의 균형점을 찾아가는 과정의 기록입니다.
